'use strict';
!(function() {
	var t = !0;
	if (
		window.hasOwnProperty('invDistParams') &&
		window.invDistParams.hasOwnProperty('gdprCss') &&
		window.invDistParams.gdprCss === !1
	)
		var t = !1;
	if (t) {
		var e =
				'\n\t\tform.hs-form [class*="opt_in"],\n\t\tform.hs-form [class*="opt_out"],\n\t\tform.hs-form [data-reactid*="opt_in"],\n\t\tform.hs-form [data-reactid*="opt_out"]\n\t\t{display: none;}\n\t\t.g-opt form.hs-form [class*="opt_in"],\n\t\t.g-opt form.hs-form [class*="opt_out"],\n\t\t.g-opt form.hs-form [data-reactid*="opt_in"],\n\t\t.g-opt form.hs-form [data-reactid*="opt_out"]\n\t\t{display: initial !important;}\n\t',
			o = document.head || document.getElementsByTagName('head')[0],
			s = document.createElement('style');
		(s.type = 'text/css'),
			s.stylesheet
				? (s.stylesheet.cssText = e)
				: s.appendChild(document.createTextNode(e)),
			o.appendChild(s);
	}
	var n = function(e) {
			if (e && (document.documentElement.classList.add('g-opt'), t)) {
				var s = document.createElement('link');
				(s.type = 'text/css'),
					(s.rel = 'stylesheet'),
					(s.href =
						'//s3.amazonaws.com/www.invisionapp.com/static/gdprTest.css?v=pp6tcQIipn'),
					o.appendChild(s);
			}
		},
		r = function(t, e, o) {
			var s = new Date();
			s.setTime(s.getTime() + 24 * o * 60 * 60 * 1e3);
			var n = 'expires=' + s.toUTCString();
			document.cookie = t + '=' + e + ';' + n + ';path=/';
		},
		a = function(t) {
			for (
				var e = t + '=',
					o = decodeURIComponent(document.cookie),
					s = o.split(';'),
					n = 0;
				n < s.length;
				n++
			) {
				for (var r = s[n]; ' ' == r.charAt(0); ) r = r.substring(1);
				if (0 == r.indexOf(e)) return r.substring(e.length, r.length);
			}
			return '';
		},
		i = a('gdpr'),
		p = function() {
			if ('true' !== i) {
				var t = new XMLHttpRequest();
				t.open(
					'GET',
					'https://cobalt-pessoalugar-api-prod.herokuapp.com/api/obter'
				),
					(t.onreadystatechange = function() {
						if (4 === t.readyState)
							try {
								if (!(t.status >= 200 && t.status < 300))
									throw new Error(t.responseText);
								var e = JSON.parse(t.responseText);
								n(e.isGDPR), r('gdpr', e.isGDPR, 7);
							} catch (o) {
								console.error('parsing failed', o);
							}
					}.bind(this)),
					t.send();
			} else n('true' === i);
		};
	p();
})();
